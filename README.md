# Сайт рецептов

Веб-приложение для хранения и обмена кулинарными рецептами, разработанное на Django.

## Описание проекта

Этот проект представляет собой веб-платформу, где пользователи могут:
- Создавать и публиковать свои рецепты
- Просматривать рецепты других пользователей
- Фильтровать рецепты по категориям
- Управлять своими рецептами (редактировать, удалять)

## Технологии

- Python 3.12
- Django 5.1.3
- SQLite3
- HTML5/CSS3
- JavaScript

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone [URL вашего репозитория]
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv .venv
.venv\Scripts\activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Примените миграции:
```bash
python manage.py migrate
```

5. Создайте суперпользователя (для доступа к админ-панели):
```bash
python manage.py createsuperuser
```

6. Запустите сервер разработки:
```bash
python manage.py runserver 0.0.0.0:8000
```

## Обновление проекта

### Запуск FastAPI

Для запуска FastAPI приложения выполните следующие шаги:

1. **Создайте файл для запуска FastAPI:**
   Убедитесь, что у вас есть файл, например, `run.py`, с содержимым:
   ```python
   import uvicorn

   if __name__ == "__main__":
       uvicorn.run("api.main:app", host="0.0.0.0", port=8001, log_level="info")
   ```

2. **Настройте WSGI-файл:**
   Убедитесь, что ваш WSGI-файл настроен для работы с FastAPI.

3. **Запустите FastAPI с помощью Uvicorn:**
   Используйте следующую команду:
   ```bash
   uvicorn run:app --host 0.0.0.0 --port 8001
   ```

4. **Перезагрузите веб-приложение:**
   После внесения изменений, перезагрузите ваше веб-приложение.

### Проверка работы FastAPI

Проверьте, что FastAPI доступен по адресу:
```
http://localhost:8001/api
```

### Документация API

Документация API доступна по адресу:
```
http://localhost:8001/docs
```

## Структура проекта

- `recipe_site/` - основной проект Django
  - `settings.py` - настройки проекта
  - `urls.py` - основные URL маршруты
  
- `recipes/` - приложение для работы с рецептами
  - `models.py` - модели данных
  - `views.py` - представления
  - `forms.py` - формы
  - `templates/` - шаблоны HTML
  
- `media/` - загруженные пользователями изображения
- `static/` - статические файлы (CSS, JavaScript)
- `requirements.txt` - зависимости проекта

## Основные функции

1. Управление рецептами:
   - Создание нового рецепта
   - Редактирование существующего рецепта
   - Удаление рецепта
   - Просмотр детальной информации о рецепте

2. Категории:
   - Добавление новых категорий
   - Фильтрация рецептов по категориям

3. Пользователи:
   - Регистрация
   - Авторизация
   - Управление собственными рецептами

## Переменные окружения

Создайте файл `.env` в корневой директории проекта со следующими параметрами:

```
SECRET_KEY=ваш_секретный_ключ
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1
```

## Разработка

Проект использует:
- `black` для форматирования кода
- `flake8` для проверки стиля кода
- `pytest` для тестирования
